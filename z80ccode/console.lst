                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.8.0 #10562 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module console
                              6 	.optsdcc -mz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _console
                             12 	.globl _con_init
                             13 	.globl _con_gotoxy
                             14 	.globl _con_cls
                             15 	.globl _putc
                             16 	.globl _puts
                             17 ;--------------------------------------------------------
                             18 ; special function registers
                             19 ;--------------------------------------------------------
                             20 ;--------------------------------------------------------
                             21 ; ram data
                             22 ;--------------------------------------------------------
                             23 	.area _DATA
                     0000    24 G$console$0_0$0==.
   0000                      25 _console::
   0000                      26 	.ds 2
                             27 ;--------------------------------------------------------
                             28 ; ram data
                             29 ;--------------------------------------------------------
                             30 	.area _INITIALIZED
                             31 ;--------------------------------------------------------
                             32 ; absolute external ram data
                             33 ;--------------------------------------------------------
                             34 	.area _DABS (ABS)
                             35 ;--------------------------------------------------------
                             36 ; global & static initialisations
                             37 ;--------------------------------------------------------
                             38 	.area _HOME
                             39 	.area _GSINIT
                             40 	.area _GSFINAL
                             41 	.area _GSINIT
                             42 ;--------------------------------------------------------
                             43 ; Home
                             44 ;--------------------------------------------------------
                             45 	.area _HOME
                             46 	.area _HOME
                             47 ;--------------------------------------------------------
                             48 ; code
                             49 ;--------------------------------------------------------
                             50 	.area _CODE
                     0000    51 	G$con_init$0$0	= .
                             52 	.globl	G$con_init$0$0
                     0000    53 	C$console.c$5$0_0$4	= .
                             54 	.globl	C$console.c$5$0_0$4
                             55 ;console.c:5: void con_init()
                             56 ;	---------------------------------
                             57 ; Function con_init
                             58 ; ---------------------------------
   0000                      59 _con_init::
                     0000    60 	C$console.c$7$1_0$4	= .
                             61 	.globl	C$console.c$7$1_0$4
                             62 ;console.c:7: console = videostart;
   0000 21 00 F8      [10]   63 	ld	hl, #0xf800
   0003 22r00r00      [16]   64 	ld	(_console), hl
                     0006    65 	C$console.c$8$1_0$4	= .
                             66 	.globl	C$console.c$8$1_0$4
                             67 ;console.c:8: return;
                     0006    68 	C$console.c$9$1_0$4	= .
                             69 	.globl	C$console.c$9$1_0$4
                             70 ;console.c:9: }
                     0006    71 	C$console.c$9$1_0$4	= .
                             72 	.globl	C$console.c$9$1_0$4
                     0006    73 	XG$con_init$0$0	= .
                             74 	.globl	XG$con_init$0$0
   0006 C9            [10]   75 	ret
                     0007    76 	G$con_gotoxy$0$0	= .
                             77 	.globl	G$con_gotoxy$0$0
                     0007    78 	C$console.c$11$1_0$6	= .
                             79 	.globl	C$console.c$11$1_0$6
                             80 ;console.c:11: void con_gotoxy(unsigned char x, unsigned char y)
                             81 ;	---------------------------------
                             82 ; Function con_gotoxy
                             83 ; ---------------------------------
   0007                      84 _con_gotoxy::
                     0007    85 	C$console.c$13$1_0$6	= .
                             86 	.globl	C$console.c$13$1_0$6
                             87 ;console.c:13: console = videostart + (y*SCREENWIDTH) + x;
   0007 21 03 00      [10]   88 	ld	hl, #3+0
   000A 39            [11]   89 	add	hl, sp
   000B 4E            [ 7]   90 	ld	c, (hl)
   000C 06 00         [ 7]   91 	ld	b, #0x00
   000E 69            [ 4]   92 	ld	l, c
   000F 60            [ 4]   93 	ld	h, b
   0010 29            [11]   94 	add	hl, hl
   0011 29            [11]   95 	add	hl, hl
   0012 09            [11]   96 	add	hl, bc
   0013 29            [11]   97 	add	hl, hl
   0014 29            [11]   98 	add	hl, hl
   0015 29            [11]   99 	add	hl, hl
   0016 4D            [ 4]  100 	ld	c, l
   0017 7C            [ 4]  101 	ld	a, h
   0018 C6 F8         [ 7]  102 	add	a, #0xf8
   001A 47            [ 4]  103 	ld	b, a
   001B 79            [ 4]  104 	ld	a, c
   001C 21 02 00      [10]  105 	ld	hl, #2
   001F 39            [11]  106 	add	hl, sp
   0020 FD 21r00r00   [14]  107 	ld	iy, #_console
   0024 86            [ 7]  108 	add	a, (hl)
   0025 FD 77 00      [19]  109 	ld	0 (iy), a
   0028 78            [ 4]  110 	ld	a, b
   0029 CE 00         [ 7]  111 	adc	a, #0x00
   002B FD 23         [10]  112 	inc	iy
   002D FD 77 00      [19]  113 	ld	0 (iy), a
                     0030   114 	C$console.c$14$1_0$6	= .
                            115 	.globl	C$console.c$14$1_0$6
                            116 ;console.c:14: return;
                     0030   117 	C$console.c$15$1_0$6	= .
                            118 	.globl	C$console.c$15$1_0$6
                            119 ;console.c:15: }
                     0030   120 	C$console.c$15$1_0$6	= .
                            121 	.globl	C$console.c$15$1_0$6
                     0030   122 	XG$con_gotoxy$0$0	= .
                            123 	.globl	XG$con_gotoxy$0$0
   0030 C9            [10]  124 	ret
                     0031   125 	G$con_cls$0$0	= .
                            126 	.globl	G$con_cls$0$0
                     0031   127 	C$console.c$17$1_0$7	= .
                            128 	.globl	C$console.c$17$1_0$7
                            129 ;console.c:17: void con_cls()
                            130 ;	---------------------------------
                            131 ; Function con_cls
                            132 ; ---------------------------------
   0031                     133 _con_cls::
                     0031   134 	C$console.c$19$2_0$8	= .
                            135 	.globl	C$console.c$19$2_0$8
                            136 ;console.c:19: for(console = videostart; console < videoend; console++)
   0031 21 00 F8      [10]  137 	ld	hl, #0xf800
   0034 22r00r00      [16]  138 	ld	(_console), hl
   0037                     139 00103$:
   0037 FD 21r00r00   [14]  140 	ld	iy, #_console
   003B FD 7E 00      [19]  141 	ld	a, 0 (iy)
   003E D6 B0         [ 7]  142 	sub	a, #0xb0
   0040 FD 7E 01      [19]  143 	ld	a, 1 (iy)
   0043 DE FC         [ 7]  144 	sbc	a, #0xfc
   0045 30 0F         [12]  145 	jr	NC,00101$
                     0047   146 	C$console.c$21$3_0$9	= .
                            147 	.globl	C$console.c$21$3_0$9
                            148 ;console.c:21: *console = ' ';
   0047 2Ar00r00      [16]  149 	ld	hl, (_console)
   004A 36 20         [10]  150 	ld	(hl), #0x20
                     004C   151 	C$console.c$19$2_0$8	= .
                            152 	.globl	C$console.c$19$2_0$8
                            153 ;console.c:19: for(console = videostart; console < videoend; console++)
   004C FD 34 00      [23]  154 	inc	0 (iy)
   004F 20 E6         [12]  155 	jr	NZ,00103$
   0051 FD 34 01      [23]  156 	inc	1 (iy)
   0054 18 E1         [12]  157 	jr	00103$
   0056                     158 00101$:
                     0056   159 	C$console.c$23$1_0$7	= .
                            160 	.globl	C$console.c$23$1_0$7
                            161 ;console.c:23: console = videostart;
   0056 21 00 F8      [10]  162 	ld	hl, #0xf800
   0059 22r00r00      [16]  163 	ld	(_console), hl
                     005C   164 	C$console.c$24$1_0$7	= .
                            165 	.globl	C$console.c$24$1_0$7
                            166 ;console.c:24: return;
                     005C   167 	C$console.c$25$1_0$7	= .
                            168 	.globl	C$console.c$25$1_0$7
                            169 ;console.c:25: }
                     005C   170 	C$console.c$25$1_0$7	= .
                            171 	.globl	C$console.c$25$1_0$7
                     005C   172 	XG$con_cls$0$0	= .
                            173 	.globl	XG$con_cls$0$0
   005C C9            [10]  174 	ret
                     005D   175 	G$putc$0$0	= .
                            176 	.globl	G$putc$0$0
                     005D   177 	C$console.c$26$1_0$11	= .
                            178 	.globl	C$console.c$26$1_0$11
                            179 ;console.c:26: void putc(char c)
                            180 ;	---------------------------------
                            181 ; Function putc
                            182 ; ---------------------------------
   005D                     183 _putc::
                     005D   184 	C$console.c$28$1_0$11	= .
                            185 	.globl	C$console.c$28$1_0$11
                            186 ;console.c:28: *console = c;
   005D 2Ar00r00      [16]  187 	ld	hl, (_console)
   0060 FD 21 02 00   [14]  188 	ld	iy, #2
   0064 FD 39         [15]  189 	add	iy, sp
   0066 FD 7E 00      [19]  190 	ld	a, 0 (iy)
   0069 77            [ 7]  191 	ld	(hl), a
                     006A   192 	C$console.c$29$1_0$11	= .
                            193 	.globl	C$console.c$29$1_0$11
                            194 ;console.c:29: console++;
   006A FD 21r00r00   [14]  195 	ld	iy, #_console
   006E FD 34 00      [23]  196 	inc	0 (iy)
   0071 20 03         [12]  197 	jr	NZ,00110$
   0073 FD 34 01      [23]  198 	inc	1 (iy)
   0076                     199 00110$:
                     0076   200 	C$console.c$30$1_0$11	= .
                            201 	.globl	C$console.c$30$1_0$11
                            202 ;console.c:30: if(console == videoend) 
   0076 FD 7E 00      [19]  203 	ld	a, 0 (iy)
   0079 D6 B0         [ 7]  204 	sub	a, #0xb0
   007B C0            [11]  205 	ret	NZ
   007C FD 7E 01      [19]  206 	ld	a, 1 (iy)
   007F D6 FC         [ 7]  207 	sub	a, #0xfc
   0081 C0            [11]  208 	ret	NZ
                     0082   209 	C$console.c$31$1_0$11	= .
                            210 	.globl	C$console.c$31$1_0$11
                            211 ;console.c:31: console = videostart;
   0082 21 00 F8      [10]  212 	ld	hl, #0xf800
   0085 22r00r00      [16]  213 	ld	(_console), hl
                     0088   214 	C$console.c$32$1_0$11	= .
                            215 	.globl	C$console.c$32$1_0$11
                            216 ;console.c:32: return;
                     0088   217 	C$console.c$33$1_0$11	= .
                            218 	.globl	C$console.c$33$1_0$11
                            219 ;console.c:33: }
                     0088   220 	C$console.c$33$1_0$11	= .
                            221 	.globl	C$console.c$33$1_0$11
                     0088   222 	XG$putc$0$0	= .
                            223 	.globl	XG$putc$0$0
   0088 C9            [10]  224 	ret
                     0089   225 	G$puts$0$0	= .
                            226 	.globl	G$puts$0$0
                     0089   227 	C$console.c$35$1_0$13	= .
                            228 	.globl	C$console.c$35$1_0$13
                            229 ;console.c:35: void puts(const char *s)
                            230 ;	---------------------------------
                            231 ; Function puts
                            232 ; ---------------------------------
   0089                     233 _puts::
                     0089   234 	C$console.c$37$1_0$13	= .
                            235 	.globl	C$console.c$37$1_0$13
                            236 ;console.c:37: while(*s)
   0089 D1            [10]  237 	pop	de
   008A C1            [10]  238 	pop	bc
   008B C5            [11]  239 	push	bc
   008C D5            [11]  240 	push	de
   008D                     241 00101$:
   008D 0A            [ 7]  242 	ld	a, (bc)
   008E B7            [ 4]  243 	or	a, a
   008F C8            [11]  244 	ret	Z
                     0090   245 	C$console.c$39$2_0$14	= .
                            246 	.globl	C$console.c$39$2_0$14
                            247 ;console.c:39: putc(*s);
   0090 C5            [11]  248 	push	bc
   0091 F5            [11]  249 	push	af
   0092 33            [ 6]  250 	inc	sp
   0093 CDr5Dr00      [17]  251 	call	_putc
   0096 33            [ 6]  252 	inc	sp
   0097 C1            [10]  253 	pop	bc
                     0098   254 	C$console.c$40$2_0$14	= .
                            255 	.globl	C$console.c$40$2_0$14
                            256 ;console.c:40: s++;
   0098 03            [ 6]  257 	inc	bc
                     0099   258 	C$console.c$42$1_0$13	= .
                            259 	.globl	C$console.c$42$1_0$13
                            260 ;console.c:42: return;
                     0099   261 	C$console.c$43$1_0$13	= .
                            262 	.globl	C$console.c$43$1_0$13
                            263 ;console.c:43: }
                     0099   264 	C$console.c$43$1_0$13	= .
                            265 	.globl	C$console.c$43$1_0$13
                     0099   266 	XG$puts$0$0	= .
                            267 	.globl	XG$puts$0$0
   0099 18 F2         [12]  268 	jr	00101$
                            269 	.area _CODE
                            270 	.area _INITIALIZER
                            271 	.area _CABS (ABS)
